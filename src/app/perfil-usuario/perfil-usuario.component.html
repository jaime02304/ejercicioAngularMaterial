<form [formGroup]="perfilForm" (ngSubmit)="onSubmit()" class="formulario">
  <h2 class="form-title">Formulario de Perfil</h2>

  <!-- Nombre -->
  <mat-form-field class="full-width">
    <mat-label>Nombre</mat-label>
    <input matInput formControlName="nombre" id="nombre" />
    <mat-error *ngIf="perfilForm.controls['nombre'].hasError('required')">
      El nombre es obligatorio.
    </mat-error>
  </mat-form-field>

  <!-- Apellidos -->
  <mat-form-field class="full-width">
    <mat-label>Apellidos</mat-label>
    <input matInput formControlName="apellidos" id="apellidos" />
    <mat-error *ngIf="perfilForm.controls['apellidos'].hasError('required')">
      Los apellidos son obligatorios.
    </mat-error>
  </mat-form-field>

  <!-- Edad -->
  <mat-form-field class="full-width">
    <mat-label>Edad</mat-label>
    <input matInput type="number" formControlName="edad" id="edad" />
    <mat-error *ngIf="perfilForm.controls['edad'].hasError('required')">
      La edad es obligatoria.
    </mat-error>
  </mat-form-field>

  <!-- Direcci贸n -->
  <div formGroupName="direccion">
    <h3>Direcci贸n</h3>

    <mat-form-field class="full-width">
      <mat-label>Calle</mat-label>
      <input matInput formControlName="calle" id="calle" />
      <mat-error
        *ngIf="
          perfilForm.controls['direccion']?.controls['calle'].hasError(
            'required'
          )
        "
      >
        La calle es obligatoria.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="half-width">
      <mat-label>Localidad</mat-label>
      <input matInput formControlName="localidad" id="localidad" />
      <mat-error
        *ngIf="
          perfilForm.controls['direccion']?.controls['localidad'].hasError(
            'required'
          )
        "
      >
        La localidad es obligatoria.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="half-width">
      <mat-label>Provincia</mat-label>
      <input matInput formControlName="provincia" id="provincia" />
      <mat-error
        *ngIf="
          perfilForm.controls['direccion']?.controls['provincia'].hasError(
            'required'
          )
        "
      >
        La provincia es obligatoria.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-label>C贸digo Postal</mat-label>
      <input matInput formControlName="codPostal" id="codPostal" />
      <mat-error
        *ngIf="
          perfilForm.controls['direccion']?.controls['codPostal'].hasError(
            'required'
          )
        "
      >
        El c贸digo postal es obligatorio.
      </mat-error>
    </mat-form-field>
  </div>

  <!-- Botones -->
  <div class="button-container">
    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="perfilForm.invalid"
    >
      Enviar
    </button>
    <button
      mat-raised-button
      color="accent"
      type="button"
      (click)="actualiza()"
    >
      Actualizar
    </button>
  </div>
</form>
